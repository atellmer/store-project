<div class="cart js-cart">
	<div data-hm-tap="$ctrl.closeCart()" class="cart__close-btn">
		<i class="material-icons cart__icon">close</i>
	</div>
	<div class="cart__title">Ваш заказ:</div>
	<ul ng-scrollbars data-ng-if="$ctrl.cart.length > 0" class="cart__list">
		<li data-ng-repeat="item in $ctrl.cart" class="cart__item">
			<span>{{ ::$index + 1 }}. {{ ::item.name }} ({{ ::item.amount }} шт. по {{ ::item.volume }} мл.)</span>
			<span data-hm-tap="$ctrl.deleteFromCart(item.id)" class="cart__delete-btn">
				<i class="material-icons cart__delete-icon">delete</i>
			</span>
		</li>
	</ul>
	<ul data-ng-if="$ctrl.cart.length === 0" class="cart__list">
		<li class="cart__item">
			Товары пока не добавлены...
		</li>
	</ul>
	<div class="cart__sum">
		Сумма заказа: {{ $ctrl.sum }}
	</div>

	<form 
		data-ng-if="$ctrl.cart.length > 0" 
		name="PhoneForm" 
		novalidate 
		valdr-type="PhoneForm" 
		role="form" 
		class="cart__form">
		<ul class="cart__notice">
			<li>1. Заполните ваш номер телефона для связи</li>
			<li>2. Нажмите на кнопку «Оформить заказ»</li>
			<li>3. Затем выберите способ оплаты</li>
		</ul>
		<div  class="btn-container">
			<div class="input-group cart__input-group">
				<input 
					data-ng-model="$ctrl.phone" 
					type="text" 
					id="phone"
					name="phone" 
					placeholder="Ваш любой доступный телефон" 
					class="form-control cart__input" 
					required>
			</div>
			<button 
				data-hm-tap="$ctrl.showModal('order-modal')" 
				data-ng-disabled="PhoneForm.$invalid" 
				data-ng-class="{'disabled': PhoneForm.$invalid}" 
				class="cart__order-btn">
				Оформить заказ
			</button>
		</div>
	</form>

	<div class="cart__brand">
		Башкирский мёд
	</div>
	
</div>

<div class="cart-btn" data-hm-tap="$ctrl.openCart()">
	<i data-ng-if="$ctrl.cart.length === 0" class="material-icons cart-btn__icon">add_shopping_cart</i>
	<i data-ng-if="$ctrl.cart.length > 0" class="material-icons cart-btn__icon">shopping_cart</i>
	<span class="cart-btn__count">{{ $ctrl.cart.length }}</span>
</div>

<script type="text/ng-template" id="order-modal">
	<div data-modal-type="new-order" class="bash-modal">
		<div class="bash-modal__header">Форма заказа</div>
		<!--div class="bash-modal__body">
			<div class="input-group bash-input-group">
				<label for="name">ФИО:</label>
				<input data-input-name type="text" name="name" placeholder="Напишите ваше ФИО..." class="form-control">
			</div>
			<div class="input-group bash-input-group">
				<label for="phone">Телефон:</label>
				<input data-input-phone type="text" name="phone" placeholder="Ваш любой доступный номер" class="form-control">
			</div>
			<div class="input-group bash-input-group">
				<label for="email">Email:</label>
				<input data-input-email type="text" name="email" placeholder="email для связи" class="form-control">
			</div>
			<div class="input-group bash-input-group">
				<label for="adress">Адрес доставки:</label>
				<textarea data-input-adress type="text" name="adress" placeholder="город, улица, дом, квартира..." class="form-control textarea"></textarea>
			</div>
		</div>
		<div data-hm-tap="$ctrl.send($event)" class="bash-modal__btn">Отправить</div-->
		<div class="bash-modal__body">
			<div data-iframe-order></div>
		</div>
	</div>
</script>